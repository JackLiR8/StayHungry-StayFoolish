<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Set</title>
</head>
<body>
    <div></div>
    <div></div>
    <div></div>
    <div></div>
    <div></div>
    <script>
        /* Set 本身是一个构造函数，用来生成 Set数据结构 */
        const s = new Set();
        [2,2,3,3,4,4].forEach(e => {
            s.add(e)
        })
        
        for (let i of s){
            console.log(i);   // 2, 3, 4
        }
        console.log('s:', s)  // 
    // 上面的代码通过 add 方法向 Set 结构加入成员，结果显示 Set 结构里的值都是唯一不重复的

    /* Set 函数可以接受一个数组或者具有 iterable 接口的其他数据结构作为参数，用来初始化 */
        // 1.
        const set = new Set([1,2,3,3,4])
        let arr = [...set]
        console.log('arr', arr)     // [1,2,3,4]
        console.log('set.size', set.size)   // 4

        // 2.
        const set1 = new Set(document.getElementsByTagName('div'))
        console.log(set1.size)      // 5
    /* 例1 中，Set接受数组作为参数，例2中接受类数组作为参数。例1 中可见数组去重方法：[...new Set(array)]*/
    /* 向Set传值的时候，不会发生类型转换，故 5 和 '5' 是不同的，Set 内部判断两个值是否相等的算法叫 "Same-value-zero equality",类似于 === ，
    主要区别是在这种算法中，NaN 等于自身， 而精确运算符认为NaN 不等于自身。此外，在Set中，两个对象总是不相等的 ,如下两个例子 */
        // 3. 
        let set2 = new Set([NaN,NaN])
        console.log(set2.size)      // 1

        // 4. 
        let set3 = new Set()
        set3.add({})
        console.log(set3.size)      // 1
        set3.add({})
        console.log(set3.size)      // 2
    </script>
</body>
</html>