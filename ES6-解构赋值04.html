<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>解构赋值</title>
</head>
<body>
    <script>
    /* ----------------- 不能使用圆括号的情况 ------------------ */
        // 1. 变量声明语句
        // 以下全部报错，他们都是变量声明语句，模式不能使用圆括号
        /* 
        let [(a)] = [1];

        let {x: (c)} = {};
        let ({x: c}) = {};
        let {(x: c)} = {};
        let {(x): c} = {};

        let { o: ({ p: p }) } = { o: { p: 2 } }; 
        */

        // 2. 函数的参数
        /* 
        函数参数也属于变量声明，因此也不能带有圆括号

        // 报错
        function f([(z)]) { return z; }
        // 报错
        function f([z,(x)]) { return x; }
         */

        // 3. 赋值语句的模式部分
        /* 
        // 全部报错
            ({ p: a }) = { p: 42 };
            ([a]) = [5];
        上面代码将整个模式放在圆括号之中，导致报错。

        // 报错
            [({ p: a }), { x: c }] = [{}, {}];
        上面代码将一部分模式放在圆括号之中，导致报错。
         */ 

    /* -------------------- 可以使用圆括号情况扩 ------------------- */
        // 可以使用圆括号的情况只有一种： 赋值语句的非模式部分
        [(b)] = [3];                // 正确
        ({ p: (d) } = {});          // 正确
        [(parseInt.prop)] = [3];    // 正确
        
        /* 以上三行都是正确的，原因如下：
        1. 它们都是赋值语句，不是变量声明语句 
        2. 圆括号都不属于模式的一部分
        第一行语句中，模式是取数组的第一个成员，跟圆括号无关；第二行语句中，模式是p，而不是d；第三行语句与第一行语句的性质一致。
        */
    </script>
</body>
</html>